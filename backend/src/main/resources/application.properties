# Port the backend should run on
server.port=8080

# Upstream API base url (e.g. https://api.example.com) - required
upstream.base.url=${UPSTREAM_BASE_URL:http://localhost:4000}

# Server-side API key to set on mutating requests
server.api.key=${SERVER_API_KEY:}

# Allow CORS for frontend; read allowed origin from FRONTEND_ORIGIN env var for flexibility
spring.mvc.cors.allowed-origins=${FRONTEND_ORIGIN:http://localhost:5173}
spring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS

# Optionally restrict allowed headers and credentials
spring.mvc.cors.allowed-headers=*
spring.mvc.cors.allow-credentials=true

# Tomcat connection/thread optimization
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10
server.tomcat.connection-timeout=20s
server.tomcat.keep-alive-timeout=60s
server.tomcat.max-connections=8192

# Actuator endpoints
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
